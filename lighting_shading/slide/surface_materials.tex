\section{Surface Materials \& Reflection}

\begin{frame}{How Surfaces Interact with Light}
  \begin{columns}
    \begin{column}{0.5\textwidth}
      \begin{tikzpicture}[scale=0.8]
        % Incident light ray
        \draw[lightray, very thick] (-2,2) -- (0,0);
        \node[above] at (-1,1) {\footnotesize Incident light};

        % Surface
        \draw[ObjectColor, very thick] (-1.5,-0.5) -- (1.5,0.5);
        \node[below] at (0,-0.7) {\objectcolor{Surface}};

        % Surface normal
        \draw[->, PrimaryColor, thick] (0,0) -- (0,1.5);
        \node[right] at (0.1,0.75) {\footnotesize Normal $\mathbf{N}$};

        \pause
        % Reflected ray
        \draw[reflectray, thick] (0,0) -- (2,2);
        \node[above] at (1,1) {\footnotesize Reflected};

        \pause
        % Transmitted ray
        \draw[refractray, thick] (0,0) -- (1,-1.5);
        \node[below] at (0.7,-0.8) {\footnotesize Transmitted};

        \pause
        % Absorbed energy (heat)
        \node[red] at (0,-1.2) {\footnotesize Absorbed â†’ Heat};
      \end{tikzpicture}
    \end{column}
    \begin{column}{0.5\textwidth}
      \begin{conceptbox}{Three Interactions}
        \pause
        \textbf{1. Reflection}
        \begin{itemize}
            \footnotesize
          \item Light bounces off surface
          \item Angle of incidence = angle of reflection
          \item Determines surface color we see
        \end{itemize}

        \pause
        \textbf{2. Transmission}
        \begin{itemize}
            \footnotesize
          \item Light passes through surface
          \item May change direction (refraction)
          \item Important for glass, water
        \end{itemize}

        \pause
        \textbf{3. Absorption}
        \begin{itemize}
            \footnotesize
          \item Light energy converts to heat
          \item Wavelength-dependent
          \item Determines surface color
        \end{itemize}
      \end{conceptbox}
    \end{column}
  \end{columns}
\end{frame}

\begin{frame}{Types of Reflection}
  \begin{columns}
    \begin{column}{0.5\textwidth}
      \begin{tikzpicture}[scale=0.8]
        % Smooth surface (specular)
        \draw[ObjectColor, very thick] (-2,2) -- (2,2);
        \node[above] at (0,2.3) {\footnotesize Smooth Surface};

        % Incident rays
        \draw[lightray] (-1.5,3.5) -- (-0.5,2);
        \draw[lightray] (-0.5,3.5) -- (0.5,2);
        \draw[lightray] (0.5,3.5) -- (1.5,2);

        % Reflected rays (parallel)
        \draw[reflectray] (-0.5,2) -- (-1.5,0.5);
        \draw[reflectray] (0.5,2) -- (-0.5,0.5);
        \draw[reflectray] (1.5,2) -- (0.5,0.5);

        \node[below] at (0,1.5) {\footnotesize Specular Reflection};
        \node[below] at (0,1.2) {\footnotesize (Mirror-like)};

        \pause

        % Rough surface (diffuse)
        \draw[ObjectColor, very thick, decoration={snake, amplitude=1pt}, decorate] (-2,-0.5) -- (2,-0.5);
        \node[above] at (0,-0.2) {\footnotesize Rough Surface};

        % Incident rays
        \draw[lightray] (-1.5,1) -- (-0.5,-0.5);
        \draw[lightray] (-0.5,1) -- (0.5,-0.5);
        \draw[lightray] (0.5,1) -- (1.5,-0.5);

        % Scattered reflected rays
        \draw[reflectray] (-0.5,-0.5) -- (-1.2,-2);
        \draw[reflectray] (-0.5,-0.5) -- (-0.8,-2);
        \draw[reflectray] (0.5,-0.5) -- (0.2,-2);
        \draw[reflectray] (0.5,-0.5) -- (0.8,-2);
        \draw[reflectray] (1.5,-0.5) -- (1.2,-2);
        \draw[reflectray] (1.5,-0.5) -- (1.8,-2);

        \node[below] at (0,-2.3) {\footnotesize Diffuse Reflection};
        \node[below] at (0,-2.6) {\footnotesize (Matte)};
      \end{tikzpicture}
    \end{column}
    \begin{column}{0.5\textwidth}
      \begin{raybox}{Reflection Types}
        \textbf{Specular Reflection:}
        \begin{itemize}
            \footnotesize
          \item Smooth surfaces (mirrors, metals)
          \item Preserves light direction
          \item Creates sharp highlights
          \item View-dependent
        \end{itemize}

        \vspace{0.3cm}
        \textbf{Diffuse Reflection:}
        \begin{itemize}
            \footnotesize
          \item Rough surfaces (paper, clay, fabric)
          \item Scatters light uniformly
          \item View-independent
          \item Lambertian behavior
        \end{itemize}

        \vspace{0.3cm}
        \pause
        \textbf{Real surfaces:} Combination of both types
      \end{raybox}
    \end{column>
    \end{columns>

      \vspace{0.3cm}
      % IMAGE: Material examples showing different reflection types
      % Show photos: mirror (specular), paper (diffuse), plastic (mixed)
      % \includegraphics[width=\linewidth]{images/reflection_types_examples.jpg}
      \textcolor{gray}{[Examples of different reflection types]}
    \end{frame>

      \begin{frame}{Surface Normals - The Key Vector}
        \begin{columns}
          \begin{column}{0.6\textwidth}
            \begin{mathbox}{Surface Normal Properties}
              \textbf{Definition:} Vector perpendicular to surface at a point

              \vspace{0.3cm}
              \textbf{Properties:}
              \begin{itemize}
                \item Unit length: $|\mathbf{N}| = 1$
                \item Points "outward" from surface
                \item Determines light interaction
                \end{itemize>

                  \vspace{0.3cm}
                  \pause
                  \textbf{For polygons:} Cross product of edge vectors
                  \begin{align}
                    \mathbf{N} = \frac{\mathbf{e_1} \times \mathbf{e_2}}{|\mathbf{e_1} \times \mathbf{e_2}|}
                  \end{align}

                  \pause
                  \textbf{For implicit surfaces:} Gradient of surface function
                  \begin{align}
                    \mathbf{N} = \frac{\nabla f(\mathbf{P})}{|\nabla f(\mathbf{P})|}
                  \end{align}
                \end{mathbox>
                \end{column>
                  \begin{column}{0.4\textwidth}
                    \begin{tikzpicture}[scale=0.8]
                      % Triangle surface
                      \draw[ObjectColor, thick, fill=ObjectColor!20] (0,0) -- (3,0.5) -- (1.5,2.5) -- cycle;

                      % Surface normal
                      \draw[->, PrimaryColor, very thick] (1.5,1) -- (1.5,2.5);
                      \node[right] at (1.7,1.75) {\footnotesize $\mathbf{N}$};

                      % Edge vectors
                      \draw[->, red] (0,0) -- (3,0.5);
                      \node[below] at (1.5,-0.2) {\footnotesize $\mathbf{e_1}$};

                      \draw[->, blue] (0,0) -- (1.5,2.5);
                      \node[left] at (0.5,1.2) {\footnotesize $\mathbf{e_2}$};

                      % Right angle indicator
                      \draw[thin] (1.2,1) -- (1.2,1.3) -- (1.5,1.3);

                      \pause

                      % Different normal orientations
                      \node[below] at (1.5,-0.8) {\footnotesize Normal calculation:};
                      \node[below] at (1.5,-1.1) {\footnotesize $\mathbf{N} = \mathbf{e_1} \times \mathbf{e_2}$};
                    \end{tikzpicture>
                    \end{column>
                    \end{columns>

                      \vspace{0.3cm}
                      \pause
                      \begin{conceptbox}{Why Normals Matter}
                        \begin{itemize}
                          \item Determine how much light hits the surface (diffuse component)
                          \item Calculate reflection directions (specular component)
                          \item Essential for all lighting calculations
                          \item \textbf{Always normalize them!} $\mathbf{N} = \mathbf{N}/|\mathbf{N}|$
                          \end{itemize>
                          \end{conceptbox>
                          \end{frame>

                            \begin{frame}{Material Properties}
                              \begin{columns>
                                  \begin{column>{0.6\textwidth>
                                        \begin{mathbox>{Material Coefficients}
                                            \textbf{Ambient coefficient:} $k_a$
                                            \begin{itemize>
                                                \footnotesize
                                              \item Controls response to ambient light
                                              \item Range: $[0, 1]$
                                              \item Usually small (0.1 - 0.3)
                                              \end{itemize>

                                                \vspace{0.3cm}
                                                \textbf{Diffuse coefficient:} $k_d$
                                                \begin{itemize>
                                                    \footnotesize
                                                  \item Controls Lambertian reflection
                                                  \item Range: $[0, 1]$
                                                  \item Represents surface color
                                                  \end{itemize>

                                                    \vspace{0.3cm}
                                                    \textbf{Specular coefficient:} $k_s$
                                                    \begin{itemize>
                                                        \footnotesize
                                                      \item Controls shiny highlights
                                                      \item Range: $[0, 1]$
                                                      \item Higher for metallic surfaces
                                                      \end{itemize>

                                                        \vspace{0.3cm}
                                                        \textbf{Shininess:} $n$
                                                        \begin{itemize>
                                                            \footnotesize
                                                          \item Controls highlight size
                                                          \item Range: $[1, \infty)$
                                                          \item Higher = smaller, sharper highlights
                                                          \end{itemize>
                                                          \end{mathbox>
                                                          \end{column>
                                                            \begin{column>{0.4\textwidth>
                                                                  % IMAGE: Material parameter demonstrations
                                                                  % Show sphere with different ka, kd, ks, n values
                                                                  % \includegraphics[width=\linewidth]{images/material_parameters.jpg}
                                                                  \vspace{2cm>
                                                                    \textcolor{gray>{[Material parameter examples]}

                                                                      \vspace{0.5cm>
                                                                        \begin{raybox>{Typical Values}
                                                                            \footnotesize
                                                                            \textbf{Matte plastic:}\\
                                                                            $k_a=0.2, k_d=0.8, k_s=0.1, n=10$

                                                                            \vspace{0.2cm>
                                                                              \textbf{Shiny metal:}\\
                                                                              $k_a=0.1, k_d=0.3, k_s=0.9, n=100$

                                                                              \vspace{0.2cm>
                                                                                \textbf{Rubber:}\\
                                                                                $k_a=0.3, k_d=0.9, k_s=0.0, n=1$
                                                                              \end{raybox>
                                                                              \end{column>
                                                                              \end{columns>

                                                                                \vspace{0.3cm}
                                                                                \pause
                                                                                \begin{conceptbox}{Energy Conservation}
                                                                                  In physically correct materials: $k_a + k_d + k_s \leq 1$

                                                                                  \textbf{Why?} Surface cannot reflect more energy than it receives!
                                                                                \end{conceptbox>
                                                                                \end{frame>
