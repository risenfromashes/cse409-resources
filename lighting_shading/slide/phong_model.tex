\section{The Phong Illumination Model}

\begin{frame}{Phong Model: History}
  \begin{columns}
    \begin{column}{0.7\textwidth}
      \small
      \begin{conceptbox}{Historical Context}
        Developed by \textbf{Bui Tuong Phong} as his PhD dissertation at the University of Utah in 1973.

        \textbf{Goal:} Fast, realistic-looking lighting
      \end{conceptbox}
      In Phong's words:

      \begin{quote}
        \footnotesize
        "We do not expect to be able to display the object exactly as it would appear in reality, with texture, overcast shadows, etc. We hope only to display an image that approximates the real object closely enough to provide a certain degree of realism."
      \end{quote}
      {\small
        Phong completed his PhD in only \textbf{two years}, a record at the time. Yet tragically, he died of cancer only two years later.
      }
    \end{column}
    \begin{column}{0.3\textwidth}
      \begin{figure}
        \centering
        \includegraphics[width=\linewidth]{images/phong.jpg}
        \caption*{Bui Tuong Phong (1942-1975)}
      \end{figure}
    \end{column}
  \end{columns}
\end{frame}

\begin{frame}{Phong Model Overview}
  \begin{columns}
    \begin{column}{0.6\textwidth}
      \begin{mathbox}{Phong Formula}
        \small
        Break lighting into three components that can be computed independently
        \begin{align*}
          I &= I_{\text{ambient}} + I_{\text{diffuse}} + I_{\text{specular}} \\
          &= k_a I_a + k_d I_l (\mathbf{N} \cdot \mathbf{L}) + k_s I_l (\mathbf{R} \cdot \mathbf{V})^n
        \end{align*}
      \end{mathbox}
    \end{column}
    \begin{column}{0.4\textwidth}
      \begin{tikzpicture}[scale=0.8]
        % Surface
        \draw[ObjectColor, very thick] (-2,0) -- (2,0);
        \fill[ObjectColor] (0,0) circle (3pt);

        \node[eye] (eye) at (3, 1.5) {\faIcon{eye}};
        \node[circle, fill=LightColor, minimum size=0.5cm] (light) at (-2,2) {\footnotesize \faIcon{lightbulb}};

        \draw[->, PrimaryColor, thick] (0,0) -- (0,1.5) node[above, anchor=south] {\footnotesize $\mathbf{N}$};

        \draw[->, lightray, thick] (0,0) -- (-1.2,1.2) node[above, anchor=south] {\footnotesize $\mathbf{L}$};

        \draw[->, AccentColor, thick] (0,0) -- ($0.5*(eye)$) node[above, anchor=south] {\footnotesize $\mathbf{V}$};

        % Reflection vector
        \draw[->, reflectray, thick] (0,0) -- (1.2,1.2);
        \node[above right] at (1,1.4) {\footnotesize $\mathbf{R}$};

      \end{tikzpicture}
    \end{column}
  \end{columns}

  \vspace{0.3cm}
  \only<2>{
    \begin{figure}
      \centering
      \includegraphics[width=0.9\linewidth]{images/phong_components.png}
      \caption*{Phong model components}
    \end{figure}
  }
\end{frame}

\begin{frame}{Types of Reflection}
  \begin{columns}
    \begin{column}{0.5\textwidth}
      \begin{tikzpicture}[scale=0.8]
        % Smooth surface (specular)
        \draw[ObjectColor, very thick] (-2,2) -- (2,2);
        \node[above] at (0,2.3) {\footnotesize Smooth Surface};

        % Incident rays
        \draw[lightray] (-1.5,3.5) -- (-0.5,2);
        \draw[lightray] (-0.5,3.5) -- (0.5,2);
        \draw[lightray] (0.5,3.5) -- (1.5,2);

        % Reflected rays (parallel)
        \draw[reflectray] (-0.5,2) -- (-1.5,0.5);
        \draw[reflectray] (0.5,2) -- (-0.5,0.5);
        \draw[reflectray] (1.5,2) -- (0.5,0.5);

        \node[below] at (0,1.5) {\footnotesize Specular Reflection};
        \node[below] at (0,1.2) {\footnotesize (Mirror-like)};

        \pause

        % Rough surface (diffuse)
        \draw[ObjectColor, very thick, decoration={snake, amplitude=1pt}, decorate] (-2,-0.5) -- (2,-0.5);
        \node[above] at (0,-0.2) {\footnotesize Rough Surface};

        % Incident rays
        \draw[lightray] (-1.5,1) -- (-0.5,-0.5);
        \draw[lightray] (-0.5,1) -- (0.5,-0.5);
        \draw[lightray] (0.5,1) -- (1.5,-0.5);

        % Scattered reflected rays
        \draw[reflectray] (-0.5,-0.5) -- (-1.2,-2);
        \draw[reflectray] (-0.5,-0.5) -- (-0.8,-2);
        \draw[reflectray] (0.5,-0.5) -- (0.2,-2);
        \draw[reflectray] (0.5,-0.5) -- (0.8,-2);
        \draw[reflectray] (1.5,-0.5) -- (1.2,-2);
        \draw[reflectray] (1.5,-0.5) -- (1.8,-2);

        \node[below] at (0,-2.3) {\footnotesize Diffuse Reflection};
        \node[below] at (0,-2.6) {\footnotesize (Matte)};
      \end{tikzpicture}
    \end{column}
    \begin{column}{0.5\textwidth}
      \begin{raybox}{Reflection Types}
        \textbf{Specular Reflection:}
        \begin{itemize}
            \footnotesize
          \item Smooth surfaces (mirrors, metals)
          \item Preserves light direction
          \item Creates sharp highlights
          \item View-dependent
        \end{itemize}

        \vspace{0.3cm}
        \textbf{Diffuse Reflection:}
        \begin{itemize}
            \footnotesize
          \item Rough surfaces (paper, clay, fabric)
          \item Scatters light uniformly
          \item View-independent
          \item Lambertian behavior
        \end{itemize}

        \vspace{0.3cm}
        \pause
        \textbf{Real surfaces:} Combination of both types
      \end{raybox}
    \end{column}
  \end{columns}

  \vspace{0.3cm}
  % IMAGE: Material examples showing different reflection types
  % Show photos: mirror (specular), paper (diffuse), plastic (mixed)
  % \includegraphics[width=\linewidth]{images/reflection_types_examples.jpg}
  \textcolor{gray}{[Examples of different reflection types]}
\end{frame}

\begin{frame}{Surface Normals - The Key Vector}
  \begin{columns}
    \begin{column}{0.6\textwidth}
      \begin{mathbox}{Surface Normal Properties}
        \textbf{Definition:} Vector perpendicular to surface at a point

        \vspace{0.3cm}
        \textbf{Properties:}
        \begin{itemize}
          \item Unit length: $|\mathbf{N}| = 1$
          \item Points "outward" from surface
          \item Determines light interaction
        \end{itemize}

        \vspace{0.3cm}
        \pause
        \textbf{For polygons:} Cross product of edge vectors
        \begin{align}
          \mathbf{N} = \frac{\mathbf{e_1} \times \mathbf{e_2}}{|\mathbf{e_1} \times \mathbf{e_2}|}
        \end{align}

        \pause
        \textbf{For implicit surfaces:} Gradient of surface function
        \begin{align}
          \mathbf{N} = \frac{\nabla f(\mathbf{P})}{|\nabla f(\mathbf{P})|}
        \end{align}
      \end{mathbox}
    \end{column}
    \begin{column}{0.4\textwidth}
      \begin{tikzpicture}[scale=0.8]
        % Triangle surface
        \draw[ObjectColor, thick, fill=ObjectColor!20] (0,0) -- (3,0.5) -- (1.5,2.5) -- cycle;

        % Surface normal
        \draw[->, PrimaryColor, very thick] (1.5,1) -- (1.5,2.5);
        \node[right] at (1.7,1.75) {\footnotesize $\mathbf{N}$};

        % Edge vectors
        \draw[->, red] (0,0) -- (3,0.5);
        \node[below] at (1.5,-0.2) {\footnotesize $\mathbf{e_1}$};

        \draw[->, blue] (0,0) -- (1.5,2.5);
        \node[left] at (0.5,1.2) {\footnotesize $\mathbf{e_2}$};

        % Right angle indicator
        \draw[thin] (1.2,1) -- (1.2,1.3) -- (1.5,1.3);

        \pause

        % Different normal orientations
        \node[below] at (1.5,-0.8) {\footnotesize Normal calculation:};
        \node[below] at (1.5,-1.1) {\footnotesize $\mathbf{N} = \mathbf{e_1} \times \mathbf{e_2}$};
      \end{tikzpicture}
    \end{column}
  \end{columns}

  \vspace{0.3cm}
  \pause
  \begin{conceptbox}{Why Normals Matter}
    \begin{itemize}
      \item Determine how much light hits the surface (diffuse component)
      \item Calculate reflection directions (specular component)
      \item Essential for all lighting calculations
      \item \textbf{Always normalize them!} $\mathbf{N} = \mathbf{N}/|\mathbf{N}|$
    \end{itemize}
  \end{conceptbox}
\end{frame}

\begin{frame}{Material Properties}
  \begin{columns}
    \begin{column}{0.6\textwidth}
      \begin{mathbox}{Material Coefficients}
        \textbf{Ambient coefficient:} $k_a$
        \begin{itemize}
            \footnotesize
          \item Controls response to ambient light
          \item Range: $[0, 1]$
          \item Usually small (0.1 - 0.3)
        \end{itemize}

        \vspace{0.3cm}
        \textbf{Diffuse coefficient:} $k_d$
        \begin{itemize}
            \footnotesize
          \item Controls Lambertian reflection
          \item Range: $[0, 1]$
          \item Represents surface color
        \end{itemize}

        \vspace{0.3cm}
        \textbf{Specular coefficient:} $k_s$
        \begin{itemize}
            \footnotesize
          \item Controls shiny highlights
          \item Range: $[0, 1]$
          \item Higher for metallic surfaces
        \end{itemize}

        \vspace{0.3cm}
        \textbf{Shininess:} $n$
        \begin{itemize}
            \footnotesize
          \item Controls highlight size
          \item Range: $[1, \infty)$
          \item Higher = smaller, sharper highlights
        \end{itemize}
      \end{mathbox}
    \end{column}
    \begin{column}{0.4\textwidth}
      % IMAGE: Material parameter demonstrations
      % Show sphere with different ka, kd, ks, n values
      % \includegraphics[width=\linewidth]{images/material_parameters.jpg}
      \vspace{2cm}
      \textcolor{gray}{[Material parameter examples]}

      \vspace{0.5cm}
      \begin{raybox}{Typical Values}
        \footnotesize
        \textbf{Matte plastic:}\\
        $k_a=0.2, k_d=0.8, k_s=0.1, n=10$

        \vspace{0.2cm}
        \textbf{Shiny metal:}\\
        $k_a=0.1, k_d=0.3, k_s=0.9, n=100$

        \vspace{0.2cm}
        \textbf{Rubber:}\\
        $k_a=0.3, k_d=0.9, k_s=0.0, n=1$
      \end{raybox}
    \end{column}
  \end{columns}

  \vspace{0.3cm}
  \pause
  \begin{conceptbox}{Energy Conservation}
    In physically correct materials: $k_a + k_d + k_s \leq 1$

    \textbf{Why?} Surface cannot reflect more energy than it receives!
  \end{conceptbox}
\end{frame}

\begin{frame}{Ambient Reflection - Mathematics}
  \begin{mathbox}{Ambient Component Formula}
    \textbf{Simplest lighting component:}
    \begin{align}
      I_{\text{ambient}} = k_a \cdot I_a
    \end{align}

    where:
    \begin{itemize}
      \item $k_a$ = ambient reflection coefficient of the material
      \item $I_a$ = intensity of ambient light in the scene
    \end{itemize}

    \vspace{0.3cm}
    \pause
    \textbf{Key properties:}
    \begin{itemize}
      \item Independent of viewer position
      \item Independent of light direction
      \item Independent of surface normal
      \item Same for all points on the surface
    \end{itemize}

    \vspace{0.3cm}
    \pause
    \textbf{Typical values:}
    \begin{itemize}
      \item $k_a$: 0.1 to 0.3 (material property)
      \item $I_a$: 0.1 to 0.2 (scene setting)
    \end{itemize}
  \end{mathbox}

  \vspace{0.3cm}
  \pause
  % IMAGE: Different ambient coefficients
  % Show spheres with ka = 0.0, 0.1, 0.3, 0.5
  % \includegraphics[width=\linewidth]{images/ambient_coefficients.jpg}
  \textcolor{gray}{[Effect of different ambient coefficients]}
\end{frame}

\begin{frame}{Diffuse Reflection - Introduction}
  \begin{columns}
    \begin{column}{0.5\textwidth}
      \begin{conceptbox}{Lambertian Surfaces}
        \textbf{Examples:}
        \begin{itemize}
          \item Matte paint
          \item Unpolished wood
          \item Paper
          \item Clay
          \item Fabric
        \end{itemize}

        \vspace{0.3cm}
        \textbf{Characteristics:}
        \begin{itemize}
          \item Surface appears equally bright from all viewing angles
          \item Light scattered uniformly in all directions
          \item Brightness depends only on angle of incident light
        \end{itemize}
      \end{conceptbox}
    \end{column}
    \begin{column}{0.5\textwidth}
      \begin{tikzpicture}[scale=0.8]
        % Surface with normal
        \draw[ObjectColor, very thick] (-2,0) -- (2,0);
        \fill[ObjectColor] (0,0) circle (3pt);
        \draw[->, PrimaryColor, thick] (0,0) -- (0,1.5);
        \node[right] at (0.1,0.75) {\footnotesize $\mathbf{N}$};

        % Light ray at angle
        \draw[->, lightray, thick] (-1.5,1.5) -- (0,0);
        \node[above] at (-0.75,0.75) {\footnotesize $\mathbf{L}$};

        % Angle between normal and light
        \draw[dashed] (0,0) -- (0,1);
        \draw[dashed] (0,0) -- (-1,1);
        \node[AccentColor] at (-0.3,0.4) {\footnotesize $\theta$};

        % Scattered rays (equal intensity in all directions)
        \foreach \angle in {30,60,90,120,150} {
          \draw[reflectray, opacity=0.6] (0,0) -- (\angle:1);
        }

        \node[below] at (0,-0.5) {\footnotesize Equal brightness};
        \node[below] at (0,-0.8) {\footnotesize all directions};
      \end{tikzpicture}
    \end{column}
  \end{columns}

  \vspace{0.3cm}
  \pause
  \begin{center}
    % IMAGE: Lambertian material examples
    % Show photos of matte surfaces: paper, clay pot, matte paint
    % \includegraphics[width=0.8\linewidth]{images/lambertian_examples.jpg}
    \textcolor{gray}{[Examples of Lambertian materials]}
  \end{center}
\end{frame}

\begin{frame}{Lambert's Cosine Law - Geometric Derivation}
  \begin{columns}
    \begin{column}{0.6\textwidth}
      \begin{mathbox}{Why Cosine?}
        \textbf{Consider light hitting a surface:}

        \vspace{0.3cm}
        \pause
        \textbf{Energy per unit area depends on angle}

        When light hits at angle $\theta$:
        \begin{itemize}
          \item Same light beam covers larger area
          \item Energy density decreases
          \item Area increases by factor $1/\cos(\theta)$
          \item Energy density decreases by factor $\cos(\theta)$
        \end{itemize}

        \vspace{0.3cm}
        \pause
        \textbf{Mathematical relationship:}
        \begin{align}
          \text{Effective intensity} \propto \cos(\theta) = \mathbf{N} \cdot \mathbf{L}
        \end{align}
      \end{mathbox}
    \end{column}
    \begin{column}{0.4\textwidth}
      \begin{tikzpicture}[scale=0.8]
        % Light beam hitting surface perpendicularly
        \draw[lightray, thick] (-0.5,2.5) -- (-0.5,1);
        \draw[lightray, thick] (0.5,2.5) -- (0.5,1);
        \draw[ObjectColor, very thick] (-1,1) -- (1,1);
        \node[below] at (0,0.7) {\footnotesize $\theta = 0^{\circ}$};
        \node[below] at (0,0.4) {\footnotesize Area = $A$};

        % Light beam hitting at angle
        \draw[lightray, thick] (-1,3.5) -- (0.5,2);
        \draw[lightray, thick] (0,3.5) -- (1.5,2);
        \draw[ObjectColor, very thick] (0,2) -- (2.5,2.5);

        % Angle indication
        \draw[dashed] (1.25,2.25) -- (1.25,3);
        \draw[dashed] (1.25,2.25) -- (0.5,3);
        \node[AccentColor] at (0.9,2.7) {\footnotesize $\theta$};

        \node[below] at (1.25,1.7) {\footnotesize Area = $A/\cos(\theta)$};
        \node[below] at (1.25,1.4) {\footnotesize Intensity $\times \cos(\theta)$};

        % Normal vectors
        \draw[->, PrimaryColor] (0,1) -- (0,2);
        \draw[->, PrimaryColor] (1.25,2.25) -- (0.75,3.25);
      \end{tikzpicture}
    \end{column}
  \end{columns}
\end{frame}

\begin{frame}{Diffuse Reflection - Mathematics}
  \begin{mathbox}{Lambert's Law Implementation}
    \textbf{Diffuse component formula:}
    \begin{align}
      I_{\text{diffuse}} = k_d \cdot I_l \cdot (\mathbf{N} \cdot \mathbf{L})
    \end{align}

    where:
    \begin{itemize}
      \item $k_d$ = diffuse reflection coefficient (material color)
      \item $I_l$ = intensity of the light source
      \item $\mathbf{N}$ = surface normal (unit vector)
      \item $\mathbf{L}$ = direction to light source (unit vector)
    \end{itemize}

    \vspace{0.3cm}
    \pause
    \textbf{Important considerations:}
    \begin{align}
      \mathbf{N} \cdot \mathbf{L} = \cos(\theta) =
      \begin{cases}
        \text{positive} & \text{if light hits front of surface} \\
        \text{negative} & \text{if light hits back of surface} \\
        0 & \text{if light grazes surface}
      \end{cases}
    \end{align}

    \pause
    \textbf{Clamping:} $\max(0, \mathbf{N} \cdot \mathbf{L})$ to avoid negative lighting
  \end{mathbox}
\end{frame}

\begin{frame}{Diffuse Implementation Details}
  \begin{columns}
    \begin{column}{0.6\textwidth}
      \begin{mathbox}{Step-by-Step Calculation}
        \textbf{Input:}
        \begin{itemize}
          \item Surface point $\mathbf{P}$
          \item Surface normal $\mathbf{N}$ (normalized)
          \item Light position $\mathbf{P}_{\text{light}}$
          \item Material diffuse coefficient $k_d$
          \item Light intensity $I_l$
        \end{itemize}

        \vspace{0.3cm}
        \textbf{Algorithm:}
        \begin{align}
          \mathbf{L} &= \mathbf{P}_{\text{light}} - \mathbf{P} \\
          \hat{\mathbf{L}} &= \frac{\mathbf{L}}{|\mathbf{L}|} \\
          \text{NdotL} &= \max(0, \mathbf{N} \cdot \hat{\mathbf{L}}) \\
          I_{\text{diffuse}} &= k_d \cdot I_l \cdot \text{NdotL}
        \end{align}
      \end{mathbox}
    \end{column}
    \begin{column}{0.4\textwidth}
      \pause
      % IMAGE: Diffuse lighting angles
      % Show sphere lit from different angles showing cosine falloff
      % \includegraphics[width=\linewidth]{images/diffuse_angles.jpg}
      \vspace{1.5cm}
      \textcolor{gray}{[Diffuse lighting at different angles]}

      \vspace{0.5cm}
      \begin{raybox}{Common Mistakes}
        \footnotesize
        \begin{itemize}
          \item Forgetting to normalize $\mathbf{L}$
          \item Using world normal instead of surface normal
          \item Incorrect light direction calculation
        \end{itemize}
      \end{raybox}
    \end{column}
  \end{columns}

  \vspace{0.3cm}
  \pause
  % IMAGE: Different diffuse coefficients
  % Show spheres with kd = 0.0, 0.3, 0.7, 1.0
  % \includegraphics[width=\linewidth]{images/diffuse_coefficients.jpg}
  \textcolor{gray}{[Effect of different diffuse coefficients]}
\end{frame}

\begin{frame}{Specular Reflection - Introduction}
  \begin{columns}
    \begin{column}{0.5\textwidth}
      \begin{conceptbox}{Shiny Surfaces}
        \textbf{Examples:}
        \begin{itemize}
          \item Mirrors
          \item Polished metals
          \item Glossy paint
          \item Plastic
          \item Water surface
        \end{itemize}

        \vspace{0.3cm}
        \textbf{Characteristics:}
        \begin{itemize}
          \item View-dependent brightness
          \item Creates highlights
          \item Follows law of reflection
          \item Intensity depends on viewing angle
        \end{itemize}
      \end{conceptbox}
    \end{column}
    \begin{column}{0.5\textwidth}
      \begin{tikzpicture}[scale=0.8]
        % Surface
        \draw[ObjectColor, very thick] (-2,0) -- (2,0);
        \fill[ObjectColor] (0,0) circle (3pt);

        % Normal
        \draw[->, PrimaryColor, thick] (0,0) -- (0,1.5);
        \node[right] at (0.1,0.75) {\footnotesize $\mathbf{N}$};

        % Incident light
        \draw[->, lightray, thick] (-1.2,1.2) -- (0,0);
        \node[above left] at (-0.6,0.6) {\footnotesize $\mathbf{L}$};

        % Reflected ray
        \draw[->, reflectray, thick] (0,0) -- (1.2,1.2);
        \node[above right] at (0.6,0.6) {\footnotesize $\mathbf{R}$};

        % Viewer directions
        \draw[->, AccentColor, thick] (0,0) -- (1.2,1.2);
        \node[above] at (1.4,1.4) {\footnotesize $\mathbf{V}_1$ (bright)};

        \draw[->, AccentColor, thick] (0,0) -- (0.8,1.5);
        \node[above] at (0.8,1.7) {\footnotesize $\mathbf{V}_2$ (dim)};

        \draw[->, AccentColor, thick] (0,0) -- (-0.8,1.5);
        \node[above] at (-0.8,1.7) {\footnotesize $\mathbf{V}_3$ (dark)};

        % Angles
        \draw[dashed] (0,0) -- (0,1);
        \draw[dashed] (0,0) -- (-1,1);
        \draw[dashed] (0,0) -- (1,1);
      \end{tikzpicture}
    \end{column}
  \end{columns}

  \vspace{0.3cm}
  \pause
  \begin{center}
    % IMAGE: Specular highlight examples
    % Show photos of shiny objects with clear highlights: chrome ball, glossy car
    % \includegraphics[width=0.8\linewidth]{images/specular_examples.jpg}
    \textcolor{gray}{[Examples of specular highlights]}
  \end{center}
\end{frame}

\begin{frame}{Perfect Reflection Theory}
  \begin{columns}
    \begin{column}{0.6\textwidth}
      \begin{mathbox}{Law of Reflection}
        \textbf{Physical principle:} Angle of incidence equals angle of reflection

        \vspace{0.3cm}
        \textbf{Vector formulation:}
        \begin{align}
          \mathbf{R} = 2(\mathbf{N} \cdot \mathbf{L})\mathbf{N} - \mathbf{L}
        \end{align}

        where:
        \begin{itemize}
          \item $\mathbf{R}$ = reflection direction
          \item $\mathbf{N}$ = surface normal
          \item $\mathbf{L}$ = direction to light source
        \end{itemize}

        \vspace{0.3cm}
        \pause
        \textbf{Derivation:} Decompose $\mathbf{L}$ into normal and tangential components
        \begin{align}
          \mathbf{L}_{\parallel} &= (\mathbf{N} \cdot \mathbf{L})\mathbf{N} \\
          \mathbf{L}_{\perp} &= \mathbf{L} - \mathbf{L}_{\parallel} \\
          \mathbf{R} &= \mathbf{L}_{\perp} - \mathbf{L}_{\parallel} = \mathbf{L} - 2\mathbf{L}_{\parallel}
        \end{align}
      \end{mathbox}
    \end{column}
    \begin{column}{0.4\textwidth}
      \begin{tikzpicture}[scale=0.8]
        % Surface
        \draw[ObjectColor, very thick] (-2,0) -- (2,0);
        \fill[ObjectColor] (0,0) circle (3pt);

        % Normal
        \draw[->, PrimaryColor, thick] (0,0) -- (0,2);
        \node[right] at (0.1,1) {\footnotesize $\mathbf{N}$};

        % Incident ray
        \draw[->, lightray, thick] (-1.5,1.5) -- (0,0);
        \node[above left] at (-0.75,0.75) {\footnotesize $\mathbf{L}$};

        % Reflected ray
        \draw[->, reflectray, thick] (0,0) -- (1.5,1.5);
        \node[above right] at (0.75,0.75) {\footnotesize $\mathbf{R}$};

        \pause
        % Component decomposition
        \draw[->, blue, thick] (0,0) -- (-0.75,1.5);
        \node[left] at (-0.4,0.8) {\footnotesize $\mathbf{L}_{\parallel}$};

        \draw[->, red, thick] (0,0) -- (-0.75,0);
        \node[below] at (-0.4,-0.3) {\footnotesize $\mathbf{L}_{\perp}$};

        % Angles
        \draw[dashed] (0,0) -- (0,1.5);
        \draw[dashed] (0,0) -- (-1,1);
        \draw[dashed] (0,0) -- (1,1);

        \node[AccentColor] at (-0.3,0.6) {\footnotesize $\theta_i$};
        \node[AccentColor] at (0.3,0.6) {\footnotesize $\theta_r$};

        \node[below] at (0,-1) {\footnotesize $\theta_i = \theta_r$};
      \end{tikzpicture}
    \end{column}
  \end{columns}
\end{frame}

\begin{frame}{Phong Specular Model - Derivation}
  \begin{columns}
    \begin{column}{0.6\textwidth}
      \begin{mathbox}{Phong's Insight}
        \textbf{Problem:} Perfect mirrors are rare in computer graphics

        Most surfaces have some roughness that spreads the reflection

        \vspace{0.3cm}
        \pause
        \textbf{Solution:} Model the spread using a power function

        Brightness decreases as viewing direction deviates from perfect reflection

        \vspace{0.3cm}
        \pause
        \textbf{Key assumption:}
        \begin{itemize}
          \item Perfect reflection at $\mathbf{V} = \mathbf{R}$
          \item Intensity decreases with angle between $\mathbf{V}$ and $\mathbf{R}$
          \item Use cosine raised to a power for smooth falloff
        \end{itemize}

        \vspace{0.3cm}
        \textbf{Angle between vectors:}
        \begin{align}
          \cos(\alpha) = \mathbf{R} \cdot \mathbf{V}
        \end{align}
      \end{mathbox}
    \end{column}
    \begin{column}{0.4\textwidth}
      \begin{tikzpicture}[scale=0.8]
        % Surface
        \draw[ObjectColor, very thick] (-2,0) -- (2,0);
        \fill[ObjectColor] (0,0) circle (3pt);

        % Perfect reflection direction
        \draw[->, reflectray, thick] (0,0) -- (1.2,1.2);
        \node[above right] at (0.6,0.6) {\footnotesize $\mathbf{R}$};

        % Different viewing directions
        \draw[->, AccentColor, thick] (0,0) -- (1.2,1.2);
        \node[right] at (1.3,1.3) {\footnotesize $\mathbf{V}_1$ ($\alpha=0^{\circ}$)};

        \draw[->, AccentColor, thick] (0,0) -- (0.8,1.5);
        \node[above] at (0.8,1.7) {\footnotesize $\mathbf{V}_2$ ($\alpha>0^{\circ}$)};

        \draw[->, AccentColor, thick] (0,0) -- (1.8,0.8);
        \node[right] at (1.8,0.6) {\footnotesize $\mathbf{V}_3$ ($\alpha>0^{\circ}$)};

        % Angle indication
        \draw[dashed] (0,0) -- (1,1);
        \draw[dashed] (0,0) -- (0.67,1.25);
        \node[AccentColor] at (0.5,1.1) {\footnotesize $\alpha$};

        % Brightness indication
        \node[below] at (1.3,0.8) {\footnotesize Bright};
        \node[below] at (0.8,1.2) {\footnotesize Dimmer};
        \node[below] at (1.8,0.3) {\footnotesize Dimmer};
      \end{tikzpicture}
    \end{column}
  \end{columns}
\end{frame}

\begin{frame}{Specular Mathematics - Part 1: Reflection Vector}
  \begin{mathbox}{Calculating the Reflection Vector}
    \textbf{Given:}
    \begin{itemize}
      \item Light direction $\mathbf{L}$ (pointing toward light)
      \item Surface normal $\mathbf{N}$ (unit vector)
    \end{itemize}

    \vspace{0.3cm}
    \textbf{Step 1:} Calculate reflection direction
    \begin{align}
      \mathbf{R} = 2(\mathbf{N} \cdot \mathbf{L})\mathbf{N} - \mathbf{L}
    \end{align}

    \pause
    \textbf{Step 2:} Ensure $\mathbf{R}$ is normalized (should be automatic if $\mathbf{N}$ and $\mathbf{L}$ are unit vectors)
    \begin{align}
      \hat{\mathbf{R}} = \frac{\mathbf{R}}{|\mathbf{R}|}
    \end{align}

    \pause
    \textbf{Important:} Only calculate specular if $\mathbf{N} \cdot \mathbf{L} > 0$ (light hits front of surface)
  \end{mathbox}

  \vspace{0.3cm}
  \pause
  % IMAGE: Reflection vector calculation visualization
  % Show step-by-step vector construction with parallel/perpendicular components
  % \includegraphics[width=\linewidth]{images/reflection_vector_calc.jpg}
  \textcolor{gray}{[Reflection vector calculation visualization]}
\end{frame}

\begin{frame}{Specular Mathematics - Part 2: Intensity Calculation}
  \begin{mathbox}{Phong Specular Formula}
    \textbf{Specular intensity:}
    \begin{align}
      I_{\text{specular}} = k_s \cdot I_l \cdot (\mathbf{R} \cdot \mathbf{V})^n
    \end{align}

    where:
    \begin{itemize}
      \item $k_s$ = specular reflection coefficient (material shininess)
      \item $I_l$ = light intensity
      \item $\mathbf{R}$ = reflection direction (unit vector)
      \item $\mathbf{V}$ = view direction (toward viewer, unit vector)
      \item $n$ = shininess exponent (controls highlight size)
    \end{itemize}

    \vspace{0.3cm}
    \pause
    \textbf{With clamping:}
    \begin{align}
      I_{\text{specular}} = k_s \cdot I_l \cdot \max(0, \mathbf{R} \cdot \mathbf{V})^n
    \end{align}

    \pause
    \textbf{Complete condition:}
    \begin{align}
      I_{\text{specular}} =
      \begin{cases}
        k_s \cdot I_l \cdot (\mathbf{R} \cdot \mathbf{V})^n & \text{if } \mathbf{N} \cdot \mathbf{L} > 0 \\
        0 & \text{otherwise}
      \end{cases}
    \end{align}
  \end{mathbox}
\end{frame}

\begin{frame}{Shininess Parameter (n) - Effect on Highlights}
  \begin{columns}
    \begin{column}{0.5\textwidth}
      \begin{mathbox}{Shininess Exponent}
        \textbf{Mathematical effect:}
        \begin{align}
          (\cos(\alpha))^n
        \end{align}

        \textbf{As $n$ increases:}
        \begin{itemize}
          \item Highlight becomes smaller
          \item Highlight becomes sharper
          \item Material appears shinier
        \end{itemize}

        \vspace{0.3cm}
        \textbf{Typical values:}
        \begin{itemize}
          \item $n = 1$: Very wide, soft highlight
          \item $n = 10$: Plastic-like
          \item $n = 50$: Polished metal
          \item $n = 200$: Mirror-like
        \end{itemize}
      \end{mathbox}
    \end{column}
    \begin{column}{0.5\textwidth}
      % IMAGE: Shininess parameter comparison
      % Show spheres with n = 1, 10, 50, 200 showing highlight size changes
      % \includegraphics[width=\linewidth]{images/shininess_comparison.jpg}
      \vspace{2cm}
      \textcolor{gray}{[Shininess parameter comparison]}

      \vspace{0.3cm}
      \begin{tikzpicture}[scale=0.6]
        % Plot of cosine functions with different powers
        \begin{axis}[
            width=6cm,
            height=4cm,
            domain=0:90,
            xlabel={Angle from reflection (degrees)},
            ylabel={Intensity},
            legend pos=north east,
            grid=major
          ]
          \addplot[blue, thick] {(cos(x))^1};
          \addlegendentry{$n=1$}
          \addplot[red, thick] {(cos(x))^5};
          \addlegendentry{$n=5$}
          \addplot[green, thick] {(cos(x))^20};
          \addlegendentry{$n=20$}
        \end{axis}
      \end{tikzpicture}
    \end{column}
  \end{columns}
\end{frame}

\begin{frame}{Complete Phong Equation Assembly}
  \begin{mathbox}{Putting It All Together}
    \textbf{Complete Phong illumination model:}
    \begin{align}
      I &= I_{\text{ambient}} + I_{\text{diffuse}} + I_{\text{specular}}
    \end{align}

    \pause
    \textbf{Expanded form:}
    \begin{align}
      I &= k_a I_a + k_d I_l \max(0, \mathbf{N} \cdot \mathbf{L}) + k_s I_l \max(0, \mathbf{R} \cdot \mathbf{V})^n
    \end{align}

    \pause
    \textbf{For multiple lights:}
    \begin{align}
      I &= k_a I_a + \sum_{i=1}^{n} \left[ k_d I_{l_i} \max(0, \mathbf{N} \cdot \mathbf{L}_i) + k_s I_{l_i} \max(0, \mathbf{R}_i \cdot \mathbf{V})^n \right]
    \end{align}

    \pause
    \textbf{With RGB colors:}
    \begin{align}
      \mathbf{I} &= k_a \mathbf{I_a} + \sum_{i=1}^{n} \mathbf{I_{l_i}} \odot \left[ k_d \max(0, \mathbf{N} \cdot \mathbf{L}_i) + k_s \max(0, \mathbf{R}_i \cdot \mathbf{V})^n \right]
    \end{align}
    where $\odot$ is component-wise multiplication
  \end{mathbox}
\end{frame}

\begin{frame}{Phong Model Limitations \& Optimization}
  \begin{columns}
    \begin{column}{0.6\textwidth}
      \begin{conceptbox}{Phong Model Issues}
        \textbf{Computational cost:}
        \begin{itemize}
          \item Reflection vector calculation expensive
          \item Requires 2 dot products + vector operations
          \item Per-light calculation needed
        \end{itemize}

        \vspace{0.3cm}
        \pause
        \textbf{Visual artifacts:}
        \begin{itemize}
          \item Highlights can "pop" on/off abruptly
          \item Non-physical behavior at grazing angles
          \item Issues with interpolation across polygons
        \end{itemize}

        \vspace{0.3cm}
        \pause
        \textbf{Hardware concerns:}
        \begin{itemize}
          \item Reflection calculation not GPU-friendly
          \item Hard to optimize for real-time rendering
        \end{itemize}
      \end{conceptbox}
    \end{column}
    \begin{column}{0.4\textwidth}
      \begin{tikzpicture}[scale=0.8]
        % Surface
        \draw[ObjectColor, very thick] (-2,0) -- (2,0);
        \fill[ObjectColor] (0,0) circle (3pt);

        % Normal
        \draw[->, PrimaryColor, thick] (0,0) -- (0,1.5);
        \node[right] at (0.1,0.75) {\footnotesize $\mathbf{N}$};

        % Light vector
        \draw[->, lightray, thick] (0,0) -- (-1.2,1.2);
        \node[above left] at (-0.6,0.6) {\footnotesize $\mathbf{L}$};

        % View vector
        \draw[->, AccentColor, thick] (0,0) -- (1.2,1.2);
        \node[above right] at (0.6,0.6) {\footnotesize $\mathbf{V}$};

        % Reflection vector (expensive to calculate)
        \draw[->, reflectray, thick, dashed] (0,0) -- (1.2,1.2);
        \node[above] at (1.4,1.4) {\footnotesize $\mathbf{R}$ (expensive)};

        \pause

        % Problem illustration
        \node[red, below] at (0,-0.8) {\footnotesize Expensive calculation:};
        \node[red, below] at (0,-1.1) {\footnotesize $\mathbf{R} = 2(\mathbf{N} \cdot \mathbf{L})\mathbf{N} - \mathbf{L}$};
      \end{tikzpicture}
    \end{column}
  \end{columns}

  \vspace{0.3cm}
  \pause
  % IMAGE: Phong artifacts
  % Show examples of Phong artifacts: popping highlights, interpolation issues
  % \includegraphics[width=\linewidth]{images/phong_artifacts.jpg}
  \textcolor{gray}{[Examples of Phong model artifacts]}
\end{frame}

\begin{frame}{Blinn-Phong Optimization}
  \begin{columns}
    \begin{column}{0.5\textwidth}
      \begin{raybox}{Blinn's Innovation (1977)}
        \textbf{Key insight:} Instead of using reflection vector $\mathbf{R}$, use halfway vector $\mathbf{H}$

        \vspace{0.3cm}
        \textbf{Halfway vector:} Bisects angle between light and view directions

        \vspace{0.3cm}
        \textbf{Advantages:}
        \begin{itemize}
          \item Cheaper to calculate
          \item More stable numerically
          \item Better hardware optimization
          \item Smoother interpolation
        \end{itemize}

        \vspace{0.3cm}
        \textbf{Trade-off:} Slightly different visual result, but often preferred
      \end{raybox}
    \end{column}
    \begin{column}{0.5\textwidth}
      \begin{tikzpicture}[scale=0.8]
        % Surface
        \draw[ObjectColor, very thick] (-2,0) -- (2,0);
        \fill[ObjectColor] (0,0) circle (3pt);

        % Normal
        \draw[->, PrimaryColor, thick] (0,0) -- (0,1.5);
        \node[right] at (0.1,0.75) {\footnotesize $\mathbf{N}$};

        % Light vector
        \draw[->, lightray, thick] (0,0) -- (-1.2,1.2);
        \node[above left] at (-0.6,0.6) {\footnotesize $\mathbf{L}$};

        % View vector
        \draw[->, AccentColor, thick] (0,0) -- (1.2,1.2);
        \node[above right] at (0.6,0.6) {\footnotesize $\mathbf{V}$};

        \pause

        % Halfway vector
        \draw[->, red, very thick] (0,0) -- (0,1.7);
        \node[right] at (0.1,1.3) {\footnotesize $\mathbf{H}$};

        % Angle bisector indication
        \draw[dashed, thin] (0,0) -- (-0.6,1.2);
        \draw[dashed, thin] (0,0) -- (0.6,1.2);

        \node[below] at (0,-0.5) {\footnotesize Halfway vector bisects};
        \node[below] at (0,-0.8) {\footnotesize $\mathbf{L}$ and $\mathbf{V}$};
      \end{tikzpicture}
    \end{column}
  \end{columns}

  \vspace{0.3cm}
  \pause
  \begin{center}
    % IMAGE: Blinn-Phong vs Phong comparison
    % Show side-by-side spheres rendered with both models
    % \includegraphics[width=0.8\linewidth]{images/blinn_phong_comparison.jpg}
    \textcolor{gray}{[Blinn-Phong vs Phong visual comparison]}
  \end{center}
\end{frame}

\begin{frame}{Half-Vector Mathematics}
  \begin{mathbox}{Halfway Vector Calculation}
    \textbf{Definition:} Vector that bisects the angle between light and view directions

    \vspace{0.3cm}
    \textbf{Simple calculation:}
    \begin{align}
      \mathbf{H} = \frac{\mathbf{L} + \mathbf{V}}{|\mathbf{L} + \mathbf{V}|}
    \end{align}

    where $\mathbf{L}$ and $\mathbf{V}$ are unit vectors

    \vspace{0.3cm}
    \pause
    \textbf{Blinn-Phong specular formula:}
    \begin{align}
      I_{\text{specular}} = k_s \cdot I_l \cdot \max(0, \mathbf{N} \cdot \mathbf{H})^{n'}
    \end{align}

    \pause
    \textbf{Note:} Shininess exponent $n'$ in Blinn-Phong is typically 2-4 times larger than Phong's $n$ for similar visual result

    \vspace{0.3cm}
    \textbf{Relationship:} $n' \approx 2n$ to $4n$ (depends on material)
  \end{mathbox}

  \vspace{0.3cm}
  \pause
  % IMAGE: Half-vector geometry
  % Show geometric construction of halfway vector with angles
  % \includegraphics[width=\linewidth]{images/halfway_vector_geometry.jpg}
  \textcolor{gray}{[Half-vector geometric construction]}
\end{frame}

\begin{frame}{Blinn-Phong vs Phong Comparison}
  \begin{columns}
    \begin{column}{0.5\textwidth}
      \begin{mathbox}{Performance Comparison}
        \textbf{Phong reflection calculation:}
        \begin{align}
          \mathbf{R} &= 2(\mathbf{N} \cdot \mathbf{L})\mathbf{N} - \mathbf{L} \\
          I &= (\mathbf{R} \cdot \mathbf{V})^n
        \end{align}

        \textbf{Operations:} 1 dot product, 1 scalar multiply, 2 vector operations, 1 power

        \vspace{0.3cm}
        \pause
        \textbf{Blinn-Phong calculation:}
        \begin{align}
          \mathbf{H} &= \text{normalize}(\mathbf{L} + \mathbf{V}) \\
          I &= (\mathbf{N} \cdot \mathbf{H})^{n'}
        \end{align}

        \textbf{Operations:} 1 vector add, 1 normalize, 1 dot product, 1 power

        \vspace{0.3cm}
        \pause
        \textbf{Winner:} Blinn-Phong (especially on GPU)
      \end{mathbox}
    \end{column}
    \begin{column}{0.4\textwidth}
      % IMAGE: Performance comparison chart
      % Show bar chart of computation time: Phong vs Blinn-Phong
      % \includegraphics[width=\linewidth]{images/performance_comparison.jpg}
      \vspace{1.5cm}
      \textcolor{gray}{[Performance comparison chart]}

      \vspace{0.5cm}
      \begin{conceptbox}{Visual Differences}
        \footnotesize
        \textbf{Blinn-Phong highlights:}
        \begin{itemize}
          \item Slightly larger
          \item Softer falloff
          \item More stable interpolation
        \end{itemize}

        \textbf{Often preferred} for real-time graphics
      \end{conceptbox}
    \end{column}
  \end{columns}

  \vspace{0.3cm}
  \pause
  % IMAGE: Side-by-side visual comparison
  % Show same scene rendered with Phong vs Blinn-Phong, highlighting differences
  % \includegraphics[width=\linewidth]{images/phong_blinn_side_by_side.jpg}
  \textcolor{gray}{[Side-by-side visual comparison of Phong vs Blinn-Phong]}
\end{frame}
